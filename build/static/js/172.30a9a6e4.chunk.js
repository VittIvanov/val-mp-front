/*! For license information please see 172.30a9a6e4.chunk.js.LICENSE.txt */
(self.webpackChunkval_mp_front=self.webpackChunkval_mp_front||[]).push([[172],{214:(t,n,e)=>{"use strict";e.d(n,{A:()=>q});var r,o,i,s=e(216),a=e(475),c=e(43),d=e(266),l=e(936);function u(){return u=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},u.apply(this,arguments)}function f(t,n){let{title:e,titleId:s,...a}=t;return c.createElement("svg",u({width:"64px",height:"64px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":s},a),e?c.createElement("title",{id:s},e):null,r||(r=c.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0})),o||(o=c.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=c.createElement("g",{id:"SVGRepo_iconCarrier"},c.createElement("path",{d:"M15.7 4C18.87 4 21 6.98 21 9.76C21 15.39 12.16 20 12 20C11.84 20 3 15.39 3 9.76C3 6.98 5.13 4 8.3 4C10.12 4 11.31 4.91 12 5.71C12.69 4.91 13.88 4 15.7 4Z",stroke:"#ff0000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))))}const p=c.forwardRef(f);e.p;var h,g,y;function m(){return m=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},m.apply(this,arguments)}function x(t,n){let{title:e,titleId:r,...o}=t;return c.createElement("svg",m({width:"64px",height:"64px",viewBox:"0 0 24 24",fill:"#ff0000",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},o),e?c.createElement("title",{id:r},e):null,h||(h=c.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0})),g||(g=c.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"})),y||(y=c.createElement("g",{id:"SVGRepo_iconCarrier"},c.createElement("path",{d:"M15.7 4C18.87 4 21 6.98 21 9.76C21 15.39 12.16 20 12 20C11.84 20 3 15.39 3 9.76C3 6.98 5.13 4 8.3 4C10.12 4 11.31 4.91 12 5.71C12.69 4.91 13.88 4 15.7 4Z",stroke:"#ff0000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))))}const v=c.forwardRef(x);e.p;var b,w,j,A,C,k,_,T,S,B,E=e(528),O=e(197),R=e(559);const I=O.Ay.div(b||(b=(0,E.A)(["\nposition: relative;\ndisplay: block;\nmax-width: 100%;\npadding: 0 10px;\n"]))),L=O.Ay.div(w||(w=(0,E.A)(["\ncursor: pointer;\nwidth: 30px;\nheight: 30px;\nposition: absolute;\ntop: 0;\nright: 10px;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nsvg{\n  pointer-events: none;\n  width: 30px;\n  height: 30px;\n  opacity: 0.5;\n}\n"]))),z=O.Ay.img(j||(j=(0,E.A)(["\nmargin-bottom: 10px;\nwidth: 100%;\nheight: 165px;\nborder-radius: 4px;\nobject-fit: scale-down;\n"]))),P=O.Ay.div(A||(A=(0,E.A)(["\ndisplay: flex;\njustify-content: left;\nalign-items: flex-end ; //flex-end flex-start\nmargin-bottom: 10px;\nwidth:100%;\n"]))),M=O.Ay.div(C||(C=(0,E.A)(["\nfont-size: 18px;\nfont-weight: 700;\nmargin-right: 10px;\ncolor: ",";\nwidth:100%;\n\n\n"])),R.A.primary),V=O.Ay.div(k||(k=(0,E.A)(["\ntext-decoration: line-through;\ncolor: #999;\nfont-size: 15px;\n"]))),D=O.Ay.div(_||(_=(0,E.A)(["\nfont-size: 18px;\nfont-weight: 700;\nmargin-right: 10px;\ncolor: ",";\n\n"])),R.A.primary),G=O.Ay.h3(T||(T=(0,E.A)(["\nwidth: 100%;\nmargin-bottom: 5px;\nheight: 50px;\noverflow: hidden;\n"]))),N=O.Ay.div(S||(S=(0,E.A)(["\nmargin-bottom:10px;\nwidth: 100%;\nmargin: 10px;\nheight: 100px;\noverflow: hidden;\n"]))),W=O.Ay.div(B||(B=(0,E.A)(["\ndisplay: flex;\nflex-direction: column;\nwidth: 100%;\nmargin-bottom: 0;\n* + * {\n    margin-top: 10px;\n  }\n\n  button{\n    display: flex;\n    width: 100%;\n    justify-content: center; /* \u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u0430 \u043f\u043e \u0446\u0435\u043d\u0442\u0440\u0443 \u043f\u043e \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438 */\n    align-items: center; /* \u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u0430 \u043f\u043e \u0446\u0435\u043d\u0442\u0440\u0443 \u043f\u043e \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438 */\n    margin-bottom: 0;\n  }\n"])));var F=e(3),Z=e(818),U=e(579);const q=t=>{let{id:n,slug:e,imgSrc:r,priceRegular:o,priceDiscounted:i,title:u,brand:f,isLiked:h,hideLikes:g=!1}=t;const y=(0,F.wA)(),m=(0,s.zy)(),x=(0,c.useCallback)((t=>{const{productId:n}=t.currentTarget.dataset;y(h?(0,Z.wy)(+n):(0,Z._J)(+n))}),[y,h]),b=(0,c.useMemo)((()=>m.pathname===l.f0.favorites),[m.pathname]),w=(0,c.useCallback)((t=>{y((0,Z.wy)(+t.currentTarget.dataset.productId))}),[y]);return(0,U.jsxs)(I,{children:[!g&&(0,U.jsx)(L,{"data-product-id":n,onClick:x,children:h?(0,U.jsx)(v,{}):(0,U.jsx)(p,{})}),(0,U.jsx)(a.N_,{to:"/product/".concat(e||n),children:(0,U.jsx)(z,{src:r})}),(0,U.jsx)(P,{children:Number.isInteger(i)?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(D,{children:[i," $"]}),(0,U.jsx)(V,{children:o})]}):(0,U.jsxs)(M,{children:[o," \u20bd"]})}),(0,U.jsx)(G,{className:"h4",children:(0,U.jsx)(a.N_,{to:"/product/".concat(e||n),children:u})}),(0,U.jsx)(N,{children:f}),(0,U.jsxs)(W,{children:[(0,U.jsx)(d.A,{block:!0,children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}),b&&(0,U.jsx)(d.A,{type:"danger",block:!0,onClick:w,"data-product-id":n,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})}},301:(t,n,e)=>{"use strict";e.d(n,{M:()=>h});var r=e(43),o=e(3),i=e(432),s=e(268),a=e.n(s);const c=async(t,n)=>{const e=(()=>{const t=(new Date).toISOString().split("T")[0].replace(/-/g,""),n="".concat("Valantis","_").concat(t);return a()(n)})();try{const r=await fetch("".concat("http://api.valantis.store:40000/").concat(t),{method:"POST",headers:{"Content-Type":"application/json","X-Auth":e},body:JSON.stringify(n)});if(!r.ok)throw new Error("Request failed with status(\u043e\u0448\u0438\u0431\u043a\u0430 1) ".concat(r.status));return r.json()}catch(r){throw console.error("API request error(\u043e\u0448\u0442\u0431\u043a\u0430 2):",r),r}},d=(0,i.zD)("products/fetchProductsIds",(async t=>{let{offset:n,limit:e}=t;const r=await(async(t,n)=>c("",{action:"get_ids",params:{offset:t,limit:n}}))(n,e);return r.result})),l=(0,i.zD)("products/fetchProductDetails",(async t=>{const n=await(async t=>c("",{action:"get_items",params:{ids:t}}))(t);return n.result})),u=(0,i.zD)("products/filterProducts",(async t=>{const n=await(async t=>c("",{action:"filter",params:{price:t}}))(t);return n.result})),f=(0,i.Z0)({name:"products",initialState:{products:[],loading:!1,error:null},reducers:{clearProducts:t=>{t.products=[]}},extraReducers:t=>{t.addCase(d.pending,(t=>{t.loading=!0,t.error=null})).addCase(d.fulfilled,((t,n)=>{t.loading=!1,t.products=[]})).addCase(d.rejected,((t,n)=>{t.loading=!1,t.error=n.error.message||"Failed to fetch product ids"})).addCase(l.fulfilled,((t,n)=>{t.loading=!1,t.products=n.payload})).addCase(l.rejected,((t,n)=>{t.loading=!1,t.error=n.error.message||"Failed to fetch product details"})).addCase(u.fulfilled,((t,n)=>{t.loading=!1,t.products=[]})).addCase(u.rejected,((t,n)=>{t.loading=!1,t.error=n.error.message||"Failed to filter products"}))}}),{clearProducts:p}=f.actions,h=(f.reducer,()=>{const t=(0,o.wA)(),n=(0,o.d4)((t=>t.products));return(0,r.useEffect)((()=>{t(d({offset:0,limit:50}))}),[t]),(0,r.useEffect)((()=>{if(n.length>0){const e=n.map((t=>t.id));t(l(e))}}),[t,n]),{products:n}})},828:t=>{var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var n=[],e=0;e<t.length;e++)n.push(255&t.charCodeAt(e));return n},bytesToString:function(t){for(var n=[],e=0;e<t.length;e++)n.push(String.fromCharCode(t[e]));return n.join("")}}};t.exports=n},16:t=>{!function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,n){return t<<n|t>>>32-n},rotr:function(t,n){return t<<32-n|t>>>n},endian:function(t){if(t.constructor==Number)return 16711935&e.rotl(t,8)|4278255360&e.rotl(t,24);for(var n=0;n<t.length;n++)t[n]=e.endian(t[n]);return t},randomBytes:function(t){for(var n=[];t>0;t--)n.push(Math.floor(256*Math.random()));return n},bytesToWords:function(t){for(var n=[],e=0,r=0;e<t.length;e++,r+=8)n[r>>>5]|=t[e]<<24-r%32;return n},wordsToBytes:function(t){for(var n=[],e=0;e<32*t.length;e+=8)n.push(t[e>>>5]>>>24-e%32&255);return n},bytesToHex:function(t){for(var n=[],e=0;e<t.length;e++)n.push((t[e]>>>4).toString(16)),n.push((15&t[e]).toString(16));return n.join("")},hexToBytes:function(t){for(var n=[],e=0;e<t.length;e+=2)n.push(parseInt(t.substr(e,2),16));return n},bytesToBase64:function(t){for(var e=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;i<4;i++)8*r+6*i<=8*t.length?e.push(n.charAt(o>>>6*(3-i)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&e.push((n.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|n.indexOf(t.charAt(r))>>>6-2*o);return e}};t.exports=e}()},837:t=>{function n(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},268:(t,n,e)=>{!function(){var n=e(16),r=e(828).utf8,o=e(837),i=e(828).bin,s=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?i.stringToBytes(t):r.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var a=n.bytesToWords(t),c=8*t.length,d=1732584193,l=-271733879,u=-1732584194,f=271733878,p=0;p<a.length;p++)a[p]=16711935&(a[p]<<8|a[p]>>>24)|4278255360&(a[p]<<24|a[p]>>>8);a[c>>>5]|=128<<c%32,a[14+(c+64>>>9<<4)]=c;var h=s._ff,g=s._gg,y=s._hh,m=s._ii;for(p=0;p<a.length;p+=16){var x=d,v=l,b=u,w=f;d=h(d,l,u,f,a[p+0],7,-680876936),f=h(f,d,l,u,a[p+1],12,-389564586),u=h(u,f,d,l,a[p+2],17,606105819),l=h(l,u,f,d,a[p+3],22,-1044525330),d=h(d,l,u,f,a[p+4],7,-176418897),f=h(f,d,l,u,a[p+5],12,1200080426),u=h(u,f,d,l,a[p+6],17,-1473231341),l=h(l,u,f,d,a[p+7],22,-45705983),d=h(d,l,u,f,a[p+8],7,1770035416),f=h(f,d,l,u,a[p+9],12,-1958414417),u=h(u,f,d,l,a[p+10],17,-42063),l=h(l,u,f,d,a[p+11],22,-1990404162),d=h(d,l,u,f,a[p+12],7,1804603682),f=h(f,d,l,u,a[p+13],12,-40341101),u=h(u,f,d,l,a[p+14],17,-1502002290),d=g(d,l=h(l,u,f,d,a[p+15],22,1236535329),u,f,a[p+1],5,-165796510),f=g(f,d,l,u,a[p+6],9,-1069501632),u=g(u,f,d,l,a[p+11],14,643717713),l=g(l,u,f,d,a[p+0],20,-373897302),d=g(d,l,u,f,a[p+5],5,-701558691),f=g(f,d,l,u,a[p+10],9,38016083),u=g(u,f,d,l,a[p+15],14,-660478335),l=g(l,u,f,d,a[p+4],20,-405537848),d=g(d,l,u,f,a[p+9],5,568446438),f=g(f,d,l,u,a[p+14],9,-1019803690),u=g(u,f,d,l,a[p+3],14,-187363961),l=g(l,u,f,d,a[p+8],20,1163531501),d=g(d,l,u,f,a[p+13],5,-1444681467),f=g(f,d,l,u,a[p+2],9,-51403784),u=g(u,f,d,l,a[p+7],14,1735328473),d=y(d,l=g(l,u,f,d,a[p+12],20,-1926607734),u,f,a[p+5],4,-378558),f=y(f,d,l,u,a[p+8],11,-2022574463),u=y(u,f,d,l,a[p+11],16,1839030562),l=y(l,u,f,d,a[p+14],23,-35309556),d=y(d,l,u,f,a[p+1],4,-1530992060),f=y(f,d,l,u,a[p+4],11,1272893353),u=y(u,f,d,l,a[p+7],16,-155497632),l=y(l,u,f,d,a[p+10],23,-1094730640),d=y(d,l,u,f,a[p+13],4,681279174),f=y(f,d,l,u,a[p+0],11,-358537222),u=y(u,f,d,l,a[p+3],16,-722521979),l=y(l,u,f,d,a[p+6],23,76029189),d=y(d,l,u,f,a[p+9],4,-640364487),f=y(f,d,l,u,a[p+12],11,-421815835),u=y(u,f,d,l,a[p+15],16,530742520),d=m(d,l=y(l,u,f,d,a[p+2],23,-995338651),u,f,a[p+0],6,-198630844),f=m(f,d,l,u,a[p+7],10,1126891415),u=m(u,f,d,l,a[p+14],15,-1416354905),l=m(l,u,f,d,a[p+5],21,-57434055),d=m(d,l,u,f,a[p+12],6,1700485571),f=m(f,d,l,u,a[p+3],10,-1894986606),u=m(u,f,d,l,a[p+10],15,-1051523),l=m(l,u,f,d,a[p+1],21,-2054922799),d=m(d,l,u,f,a[p+8],6,1873313359),f=m(f,d,l,u,a[p+15],10,-30611744),u=m(u,f,d,l,a[p+6],15,-1560198380),l=m(l,u,f,d,a[p+13],21,1309151649),d=m(d,l,u,f,a[p+4],6,-145523070),f=m(f,d,l,u,a[p+11],10,-1120210379),u=m(u,f,d,l,a[p+2],15,718787259),l=m(l,u,f,d,a[p+9],21,-343485551),d=d+x>>>0,l=l+v>>>0,u=u+b>>>0,f=f+w>>>0}return n.endian([d,l,u,f])};s._ff=function(t,n,e,r,o,i,s){var a=t+(n&e|~n&r)+(o>>>0)+s;return(a<<i|a>>>32-i)+n},s._gg=function(t,n,e,r,o,i,s){var a=t+(n&r|e&~r)+(o>>>0)+s;return(a<<i|a>>>32-i)+n},s._hh=function(t,n,e,r,o,i,s){var a=t+(n^e^r)+(o>>>0)+s;return(a<<i|a>>>32-i)+n},s._ii=function(t,n,e,r,o,i,s){var a=t+(e^(n|~r))+(o>>>0)+s;return(a<<i|a>>>32-i)+n},s._blocksize=16,s._digestsize=16,t.exports=function(t,e){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=n.wordsToBytes(s(t,e));return e&&e.asBytes?r:e&&e.asString?i.bytesToString(r):n.bytesToHex(r)}}()}}]);
//# sourceMappingURL=172.30a9a6e4.chunk.js.map